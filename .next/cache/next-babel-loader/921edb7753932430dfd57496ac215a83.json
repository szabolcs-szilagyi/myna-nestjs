{"ast":null,"code":"var _jsxFileName = \"/home/balazs/ReactJs/myna/pages/checkout.js\";\nvar __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport ReactDOM from 'react-dom'; //import { useRouter } from 'next/router';\n\nimport { API_SERVER } from '../src/constants';\nimport Cookies from 'universal-cookie'; //import UserMenu from '../components/UserMenu';\n\nimport Header from '../components/Header';\nimport PayPal from '../components/Paypal';\nimport Nav from '../components/Nav';\nimport Footer from '../components/Footer';\nimport Ping from '../components/Ping';\nimport Container from 'react-bootstrap/Container';\nimport Button from 'react-bootstrap/Button'; //import 'bootstrap/dist/css/bootstrap.min.css';\n\nimport \"../src/styles.css\";\nconst cookies = new Cookies();\nconst session = cookies.get('session');\nexport default class Index extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      myEmail: '',\n      loggedIn: 'no',\n      activeCoupon: '',\n      products: [],\n      productsImg: [],\n      productsPrice: [],\n      inCart: '0',\n      productRender: [],\n      trash: './trash.png',\n      emptyCartAlert: '',\n      showPaypal: 'hidePaypal',\n      amount: [],\n      amountId: [],\n      currentSelect: ''\n    };\n    this.amILoggedIn = this.amILoggedIn.bind(this);\n    this.getProductsInCart = this.getProductsInCart.bind(this);\n    this.getImagesPrice = this.getImagesPrice.bind(this);\n    this.getInCart = this.getInCart.bind(this);\n    this.createProductRender = this.createProductRender.bind(this);\n    this.addImages = this.addImages.bind(this);\n    this.delProductFromCart = this.delProductFromCart.bind(this);\n    this.reload = this.reload.bind(this);\n    this.trashHover = this.trashHover.bind(this);\n    this.trashNormal = this.trashNormal.bind(this);\n    this.pressedCheckout = this.pressedCheckout.bind(this);\n    this.getAmount = this.getAmount.bind(this);\n    this.changeAmount = this.changeAmount.bind(this);\n  }\n\n  amILoggedIn() {\n    fetch(API_SERVER + 'listen.php?part=amiloggedin&sessiontoken=' + session).then(response => response.json()).then(output => {\n      let data = output;\n      let tmp = data['email'];\n\n      if (tmp != \"nodata\") {\n        this.setState({\n          myEmail: tmp,\n          loggedIn: 'yes'\n        });\n      }\n    }).catch(error => console.log(error.message));\n  }\n\n  getProductsInCart() {\n    fetch(API_SERVER + 'listen.php?part=getproductsincart&sessiontoken=' + session).then(response => response.json()).then(output => {\n      let data = output;\n      let tmp = data['products'];\n      this.setState({\n        products: tmp\n      }); //console.log (this.state.products);\n    }).catch(error => console.log(error.message));\n  }\n\n  getImagesPrice(e) {\n    let idName = e;\n    fetch(API_SERVER + 'listen.php?part=getproductdata&productname=' + idName).then(response => response.json()).then(output => {\n      let data = output;\n      let tmp = data['productdetails'];\n      let pic = tmp['pic1'];\n      let price = tmp['productprice'];\n      this.setState(previousState => ({\n        productsImg: [...previousState.productsImg, pic]\n      }));\n      this.setState(previousState => ({\n        productsPrice: [...previousState.productsPrice, price]\n      }));\n    }).catch(error => console.log(error.message));\n  }\n\n  getInCart() {\n    fetch(API_SERVER + 'listen.php?part=getproductsnumberincart&sessiontoken=' + session).then(response => response.json()).then(output => {\n      let data = output;\n      let tmp = data['nr'];\n\n      if (tmp == '0') {\n        this.setState({\n          emptyCartAlert: __jsx(\"div\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 57\n            }\n          }, __jsx(\"div\", {\n            className: \"spacer25px\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 62\n            }\n          }), __jsx(\"p\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 92\n            }\n          }, __jsx(\"i\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 95\n            }\n          }, \"Your cart is empty.\"), \" \", __jsx(\"br\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 122\n            }\n          }), __jsx(\"br\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 128\n            }\n          }), __jsx(\"a\", {\n            href: \"/love-and-light\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 134\n            }\n          }, __jsx(\"button\", {\n            className: \"startshoppingButton\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 160\n            }\n          }, \"START SHOPPING HERE\"))))\n        });\n      }\n\n      this.setState({\n        inCart: tmp\n      });\n    }).catch(error => console.log(error.message));\n  }\n\n  createProductRender() {\n    console.log(this.state.products);\n    let nr = this.state.inCart;\n    let prod = this.state.products;\n    let images = this.state.productsImg;\n    let prices = this.state.productsPrice;\n    let amo = this.state.amount;\n    let idName;\n    let amount;\n    let pricc;\n    let id;\n    let dataId;\n    let size;\n    let hlp;\n    let imgsrc;\n    let imgtmp;\n    let i;\n    let tmp = [];\n    let s1;\n    let s2;\n    let s3;\n    let s4;\n    let s5;\n\n    for (i = 0; i < nr; i++) {\n      id = prod[i]['id'];\n      dataId = \"d\" + id;\n      size = prod[i]['size'];\n      idName = prod[i]['idname'];\n      amount = amo[i]['tm1'];\n\n      if (amount == '1') {\n        s1 = __jsx(\"option\", {\n          value: \"1\",\n          selected: true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 33\n          }\n        }, \"1\");\n      } else {\n        s1 = __jsx(\"option\", {\n          value: \"1\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 86\n          }\n        }, \"1\");\n      }\n\n      if (amount == '2') {\n        s2 = __jsx(\"option\", {\n          value: \"2\",\n          selected: true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 33\n          }\n        }, \"2\");\n      } else {\n        s2 = __jsx(\"option\", {\n          value: \"2\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 86\n          }\n        }, \"2\");\n      }\n\n      if (amount == '3') {\n        s3 = __jsx(\"option\", {\n          value: \"3\",\n          selected: true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 33\n          }\n        }, \"3\");\n      } else {\n        s3 = __jsx(\"option\", {\n          value: \"3\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 86\n          }\n        }, \"3\");\n      }\n\n      if (amount == '4') {\n        s4 = __jsx(\"option\", {\n          value: \"4\",\n          selected: true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 33\n          }\n        }, \"4\");\n      } else {\n        s4 = __jsx(\"option\", {\n          value: \"4\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 86\n          }\n        }, \"4\");\n      }\n\n      if (amount == '5') {\n        s5 = __jsx(\"option\", {\n          value: \"5\",\n          selected: true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 33\n          }\n        }, \"5\");\n      } else {\n        s5 = __jsx(\"option\", {\n          value: \"5\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 86\n          }\n        }, \"5\");\n      }\n\n      pricc = prices[i];\n      imgtmp = images[i];\n      imgsrc = API_SERVER + 'productphotos/' + imgtmp;\n      console.log(imgtmp);\n      tmp[i] = __jsx(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 16\n        }\n      }, __jsx(\"div\", {\n        className: \"row\",\n        key: id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 21\n        }\n      }, __jsx(\"div\", {\n        className: \"col-md-5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 51\n        }\n      }, __jsx(\"img\", {\n        className: \"dyn\",\n        src: imgsrc,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 77\n        }\n      })), __jsx(\"div\", {\n        className: \"col-md-7\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 7\n        }\n      }, __jsx(\"div\", {\n        className: \"cartIconContainer\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 9\n        }\n      }, __jsx(\"div\", {\n        className: \"vertical-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 44\n        }\n      }, __jsx(\"table\", {\n        className: \"cartCo\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 9\n        }\n      }, __jsx(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 35\n        }\n      }, __jsx(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 9\n        }\n      }, idName), __jsx(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 9\n        }\n      }, \"qty: \", __jsx(\"select\", {\n        id: dataId,\n        className: \"amountButton\",\n        value: amount,\n        onChange: this.changeAmount,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 16\n        }\n      }, s1, s2, s3, s4, s5)), __jsx(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 9\n        }\n      }, size), __jsx(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 9\n        }\n      }, \"\\u20AC\", pricc), __jsx(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 9\n        }\n      }, __jsx(\"a\", {\n        \"data-id\": id,\n        href: \"#\",\n        onClick: this.delProductFromCart,\n        onMouseEnter: this.trashHover,\n        onMouseLeave: this.trashNormal,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 13\n        }\n      }, __jsx(\"img\", {\n        src: this.state.trash,\n        width: \"35\",\n        height: \"35\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 135\n        }\n      }))))))))), __jsx(\"hr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 19\n        }\n      }));\n    }\n\n    this.setState({\n      productRender: tmp\n    });\n  }\n\n  addImages() {\n    let nr = this.state.inCart;\n    let prod = this.state.products;\n    let hlp;\n    let i;\n\n    for (i = 0; i < nr; i++) {\n      hlp = prod[i]['idname'];\n      this.getImagesPrice(hlp);\n    }\n  }\n\n  delProductFromCart(e) {\n    let id = e.currentTarget.dataset.id;\n    fetch(API_SERVER + 'listen.php?part=delproductfromcart&id=' + id + '&sessiontoken=' + session, {\n      mode: 'no-cors'\n    });\n    setTimeout(this.reload, 400);\n  }\n\n  reload() {\n    window.location.href = \"/checkout\";\n  }\n\n  trashHover() {\n    this.setState({\n      trash: './trash-b.png'\n    });\n  }\n\n  trashNormal() {\n    this.setState({\n      trash: './trash.png'\n    });\n  }\n\n  pressedCheckout() {\n    let loggedIn = this.state.loggedIn;\n\n    if (loggedIn == 'no') {\n      window.location.href = \"/my-account\";\n    } else {\n      this.setState({\n        showPaypal: 'showPaypal'\n      });\n    }\n  }\n\n  getAmount() {\n    let nr = this.state.inCart;\n    let prod = this.state.products;\n    let amount;\n    let id = [];\n    let i;\n    let tm1;\n    let tm2;\n    let tmp = [];\n    let tmpId = [];\n\n    for (i = 0; i < nr; i++) {\n      id[i] = prod[i]['id'];\n      fetch(API_SERVER + 'listen.php?part=getamountincart&id=' + id[i] + '&pin=558240').then(response => response.json()).then(output => {\n        let data = output;\n        tm1 = data['amount'];\n        tm2 = data['id'];\n        tmp.push({\n          tm1\n        });\n        tmpId.push({\n          tm2\n        }); //console.log (this.state.products);\n      }).catch(error => console.log(error.message));\n    }\n\n    this.setState({\n      amount: tmp\n    }, () => {\n      console.log(this.state.amount);\n    });\n    this.setState({\n      amountId: tmpId\n    }, () => {\n      console.log(this.state.amountId);\n    });\n  }\n\n  changeAmount(e) {\n    let idTmp = e.currentTarget.id;\n    let id = idTmp.substr(1);\n    let value = e.currentTarget.value;\n    fetch(API_SERVER + 'listen.php?part=setamountincart&id=' + id + '&amount=' + value + '&pin=558240', {\n      mode: 'no-cors'\n    });\n  }\n\n  componentDidUpdate() {\n    this.getInCart();\n  }\n\n  componentDidMount() {\n    this.amILoggedIn();\n    this.getProductsInCart();\n    this.getInCart();\n    setTimeout(this.addImages, 750);\n    setTimeout(this.getAmount, 1500);\n    setTimeout(this.createProductRender, 2500);\n  }\n\n  render() {\n    return __jsx(Container, {\n      fluid: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 4\n      }\n    }, __jsx(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 7\n      }\n    }), __jsx(Nav, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 9\n      }\n    }), __jsx(Ping, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 9\n      }\n    }), __jsx(\"div\", {\n      className: \"spacer50px\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 9\n      }\n    }), __jsx(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 9\n      }\n    }, __jsx(\"div\", {\n      className: \"col-md-12 ce capitalLetters\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 11\n      }\n    }, __jsx(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 13\n      }\n    }, __jsx(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 17\n      }\n    }, \"Your Loved Pieces\")), this.state.emptyCartAlert)), __jsx(\"div\", {\n      className: \"spacer25px\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 9\n      }\n    }), __jsx(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 9\n      }\n    }, __jsx(\"div\", {\n      className: \"col-md-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 11\n      }\n    }), __jsx(\"div\", {\n      className: \"col-md-8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 11\n      }\n    }, \"Cart / \", this.state.inCart, \" items\", __jsx(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 13\n      }\n    }), this.state.productRender, __jsx(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 13\n      }\n    }, __jsx(\"div\", {\n      className: \"col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 15\n      }\n    }, __jsx(\"div\", {\n      className: \"noBorder mediumFont\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 17\n      }\n    }, __jsx(\"a\", {\n      href: \"/love-and-light\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 54\n      }\n    }, __jsx(\"button\", {\n      className: \"startshoppingButton\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 80\n      }\n    }, \"CONTINUE SHOPPING\")))), __jsx(\"div\", {\n      className: \"col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 15\n      }\n    }, __jsx(\"div\", {\n      className: \"noBorder mediumFont right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 17\n      }\n    }, __jsx(\"button\", {\n      className: \"cartButton\",\n      onClick: this.pressedCheckout,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 60\n      }\n    }, \"CHECKOUT\")), __jsx(\"div\", {\n      className: this.state.showPaypal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 17\n      }\n    }, __jsx(PayPal, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 19\n      }\n    }))))), __jsx(\"div\", {\n      className: \"col-md-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 11\n      }\n    })), __jsx(Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}","map":{"version":3,"sources":["/home/balazs/ReactJs/myna/pages/checkout.js"],"names":["React","useState","ReactDOM","API_SERVER","Cookies","Header","PayPal","Nav","Footer","Ping","Container","Button","cookies","session","get","Index","Component","constructor","props","state","myEmail","loggedIn","activeCoupon","products","productsImg","productsPrice","inCart","productRender","trash","emptyCartAlert","showPaypal","amount","amountId","currentSelect","amILoggedIn","bind","getProductsInCart","getImagesPrice","getInCart","createProductRender","addImages","delProductFromCart","reload","trashHover","trashNormal","pressedCheckout","getAmount","changeAmount","fetch","then","response","json","output","data","tmp","setState","catch","error","console","log","message","e","idName","pic","price","previousState","nr","prod","images","prices","amo","pricc","id","dataId","size","hlp","imgsrc","imgtmp","i","s1","s2","s3","s4","s5","currentTarget","dataset","mode","setTimeout","window","location","href","tm1","tm2","tmpId","push","idTmp","substr","value","componentDidUpdate","componentDidMount","render"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport ReactDOM from 'react-dom';\n//import { useRouter } from 'next/router';\nimport {API_SERVER as API_SERVER} from '../src/constants';\nimport Cookies from 'universal-cookie';\n//import UserMenu from '../components/UserMenu';\nimport Header from '../components/Header';\nimport PayPal from '../components/Paypal';\nimport Nav from '../components/Nav';\nimport Footer from '../components/Footer';\nimport Ping from '../components/Ping';\nimport Container from 'react-bootstrap/Container';\nimport Button from 'react-bootstrap/Button';\n//import 'bootstrap/dist/css/bootstrap.min.css';\nimport \"../src/styles.css\";\nconst cookies = new Cookies();\nconst session = cookies.get('session');\n\nexport default class Index extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      myEmail: '',\n      loggedIn: 'no',\n      activeCoupon: '',\n      products: [],\n      productsImg: [],\n      productsPrice: [],\n      inCart: '0',\n      productRender: [],\n      trash: './trash.png',\n      emptyCartAlert: '',\n      showPaypal: 'hidePaypal',\n      amount: [],\n      amountId: [],\n      currentSelect: ''\n    };\n\n    this.amILoggedIn = this.amILoggedIn.bind(this);\n    this.getProductsInCart = this.getProductsInCart.bind(this);\n    this.getImagesPrice = this.getImagesPrice.bind(this);\n    this.getInCart = this.getInCart.bind(this);\n    this.createProductRender = this.createProductRender.bind(this);\n    this.addImages = this.addImages.bind(this);\n    this.delProductFromCart = this.delProductFromCart.bind(this);\n    this.reload = this.reload.bind(this);\n    this.trashHover = this.trashHover.bind(this);\n    this.trashNormal = this.trashNormal.bind(this);\n    this.pressedCheckout = this.pressedCheckout.bind(this);\n    this.getAmount = this.getAmount.bind(this);\n    this.changeAmount = this.changeAmount.bind(this);\n  }\n\n  amILoggedIn () {\n    fetch(API_SERVER + 'listen.php?part=amiloggedin&sessiontoken=' + session)\n    .then(response => response.json())\n\t\t.then(output => {\n      let data = output;\n      let tmp = data['email'];\n      if (tmp != \"nodata\") {\n        this.setState({ myEmail: tmp, loggedIn: 'yes' });\n      }\n    })\n    .catch(error => console.log(error.message));\n  }\n  getProductsInCart () {\n    fetch(API_SERVER + 'listen.php?part=getproductsincart&sessiontoken=' + session)\n    .then(response => response.json())\n\t\t.then(output => {\n      let data = output;\n      let tmp = data['products'];\n      this.setState({ products: tmp });\n      //console.log (this.state.products);\n    })\n    .catch(error => console.log(error.message));\n  }\n  getImagesPrice (e) {\n    let idName = e;\n    fetch(API_SERVER + 'listen.php?part=getproductdata&productname=' + idName)\n    .then(response => response.json())\n\t\t.then(output => {\n      let data = output;\n      let tmp = data['productdetails'];\n      let pic = tmp['pic1'];\n      let price = tmp['productprice'];\n      this.setState(previousState => ({\n        productsImg: [...previousState.productsImg, pic]\n      }));\n      this.setState(previousState => ({\n        productsPrice: [...previousState.productsPrice, price]\n      }));\n    })\n    .catch(error => console.log(error.message));\n  }\n  getInCart () {\n    fetch(API_SERVER + 'listen.php?part=getproductsnumberincart&sessiontoken=' + session)\n    .then(response => response.json())\n\t\t.then(output => {\n      let data = output;\n      let tmp = data['nr'];\n      if (tmp == '0') { this.setState({ emptyCartAlert: <div><div className='spacer25px' /><p><i>Your cart is empty.</i> <br /><br /><a href=\"/love-and-light\"><button className=\"startshoppingButton\">START SHOPPING HERE</button></a></p></div> }); }\n      this.setState({ inCart: tmp });\n    })\n    .catch(error => console.log(error.message));\n  }\n  createProductRender () {\n    console.log (this.state.products);\n    let nr = this.state.inCart;\n    let prod = this.state.products;\n    let images = this.state.productsImg;\n    let prices = this.state.productsPrice;\n    let amo = this.state.amount;\n    let idName;\n    let amount;\n    let pricc;\n    let id;\n    let dataId;\n    let size;\n    let hlp;\n    let imgsrc;\n    let imgtmp;\n    let i;\n    let tmp = [];\n    let s1;\n    let s2;\n    let s3;\n    let s4;\n    let s5;\n\n    for (i=0; i<nr; i++) {\n      id = prod[i]['id'];\n      dataId = \"d\" + id;\n      size = prod[i]['size'];\n      idName = prod[i]['idname'];\n      amount = amo[i]['tm1'];\n      if (amount == '1') { s1 = <option value=\"1\" selected>1</option>; } else { s1 = <option value=\"1\">1</option>; }\n      if (amount == '2') { s2 = <option value=\"2\" selected>2</option>; } else { s2 = <option value=\"2\">2</option>; }\n      if (amount == '3') { s3 = <option value=\"3\" selected>3</option>; } else { s3 = <option value=\"3\">3</option>; }\n      if (amount == '4') { s4 = <option value=\"4\" selected>4</option>; } else { s4 = <option value=\"4\">4</option>; }\n      if (amount == '5') { s5 = <option value=\"5\" selected>5</option>; } else { s5 = <option value=\"5\">5</option>; }\n      pricc = prices[i];\n      imgtmp = images[i];\n      imgsrc = API_SERVER + 'productphotos/' + imgtmp;\n      console.log (imgtmp);\n      tmp[i] = <div><div className=\"row\" key={id}><div className=\"col-md-5\"><img className=\"dyn\" src={imgsrc} /></div>\n      <div className=\"col-md-7\">\n        <div className=\"cartIconContainer\"><div className=\"vertical-center\">\n        <table className=\"cartCo\"><tr>\n        <td>{idName}</td>\n        <td>\n          qty: <select id={dataId} className=\"amountButton\" value={amount} onChange={this.changeAmount}>\n            {s1}\n            {s2}\n            {s3}\n            {s4}\n            {s5}\n          </select>\n        </td>\n        <td>{size}</td>\n        <td>€{pricc}</td>\n        <td><a data-id={id} href=\"#\" onClick={this.delProductFromCart} onMouseEnter={this.trashHover} onMouseLeave={this.trashNormal}><img src={this.state.trash} width=\"35\" height=\"35\" /></a></td>\n        </tr></table>\n        </div></div>\n      </div></div><hr /></div>\n    }\n    this.setState({ productRender: tmp });\n  }\n  addImages () {\n    let nr = this.state.inCart;\n    let prod = this.state.products;\n    let hlp;\n    let i;\n    for (i=0; i<nr; i++) {\n      hlp = prod[i]['idname'];\n      this.getImagesPrice (hlp);\n    }\n  }\n  delProductFromCart (e) {\n    let id = e.currentTarget.dataset.id;\n    fetch(API_SERVER + 'listen.php?part=delproductfromcart&id=' + id + '&sessiontoken=' + session, {mode: 'no-cors'})\n    setTimeout(this.reload, 400);\n  }\n  reload () {\n    window.location.href = \"/checkout\";\n  }\n  trashHover () {\n    this.setState({ trash: './trash-b.png' });\n  }\n  trashNormal () {\n    this.setState({ trash: './trash.png' });\n  }\n  pressedCheckout () {\n    let loggedIn = this.state.loggedIn;\n    if (loggedIn == 'no') {\n      window.location.href = \"/my-account\";\n    } else {\n      this.setState({ showPaypal: 'showPaypal' });\n    }\n  }\n  getAmount () {\n    let nr = this.state.inCart;\n    let prod = this.state.products;\n    let amount;\n    let id = [];\n    let i;\n    let tm1;\n    let tm2;\n    let tmp = [];\n    let tmpId = [];\n    for (i=0; i<nr; i++) {\n      id[i] = prod[i]['id'];\n      fetch(API_SERVER + 'listen.php?part=getamountincart&id=' + id[i] + '&pin=558240')\n      .then(response => response.json())\n  \t\t.then(output => {\n        let data = output;\n        tm1 = data['amount'];\n        tm2 = data['id'];\n        tmp.push({ tm1 });\n        tmpId.push({ tm2 });\n        //console.log (this.state.products);\n      })\n      .catch(error => console.log(error.message));\n    }\n    this.setState({ amount: tmp }, () => { console.log (this.state.amount); });\n    this.setState({ amountId: tmpId }, () => { console.log (this.state.amountId); });\n  }\n  changeAmount (e) {\n    let idTmp = e.currentTarget.id;\n    let id = idTmp.substr(1);\n    let value = e.currentTarget.value;\n    fetch(API_SERVER + 'listen.php?part=setamountincart&id=' + id + '&amount=' + value + '&pin=558240', {mode: 'no-cors'})\n  }\n\n  componentDidUpdate() {\n    this.getInCart();\n  }\n  componentDidMount() {\n    this.amILoggedIn();\n    this.getProductsInCart();\n    this.getInCart();\n    setTimeout(this.addImages, 750);\n    setTimeout(this.getAmount, 1500);\n    setTimeout(this.createProductRender, 2500);\n  }\n  render() {\n\t\treturn (\n\t\t\t<Container fluid>\n      <Header />\n        <Nav />\n        <Ping />\n        <div className=\"spacer50px\" />\n        <div className=\"row\">\n          <div className=\"col-md-12 ce capitalLetters\">\n            <h2><strong>Your Loved Pieces</strong></h2>\n            {this.state.emptyCartAlert}\n          </div>\n        </div>\n        <div className=\"spacer25px\" />\n        <div className=\"row\">\n          <div className=\"col-md-2\" />\n          <div className=\"col-md-8\">\n            Cart / {this.state.inCart} items\n            <hr />\n            {this.state.productRender}\n            <div className=\"row\">\n              <div className=\"col-md-6\">\n                <div className=\"noBorder mediumFont\"><a href=\"/love-and-light\"><button className=\"startshoppingButton\">CONTINUE SHOPPING</button></a></div>\n              </div>\n              <div className=\"col-md-6\">\n                <div className=\"noBorder mediumFont right\"><button className=\"cartButton\" onClick={this.pressedCheckout}>CHECKOUT</button></div>\n                <div className={this.state.showPaypal}>\n                  <PayPal />\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"col-md-2\" />\n        </div>\n\n\n        <Footer />\n      </Container>\n\t\t);\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}